<stache
  pageTitle="SKY UX SDK Extensibility"
  navTitle="Extensibility"
  showTableOfContents="true"
  navOrder="4">

  <stache-page-summary>
    <p>
      The SKY UX SDK includes two main modules: SKY UX CLI and SKY UX Builder. The CLI is installed globally, and Builder is installed in each repository to allow individual SPAs to specify the version to use.
    </p>
  </stache-page-summary>

  <stache-markdown>

## SKY UX CLI

The SKY UX CLI has a few main purposes.

1. The CLI provides `skyux` as a known command from any location in your system. Internally, it handles a few commands such as `skyux new` and `skyux help` that can run anywhere and are not limited to the context of an existing SPA.
2. The CLI locates packages to handle `skyux` commands and passes commands to those packages. Packages can be installed globally or locally in the working directory. SKY UX Builder is the most common example of a module versioned in a specific directory that handles commands.  For example, Builder handles `skyux build` after the CLI passes along the command.

For information about SKY UX CLI commands, see <a routerLink="/learn/reference/cli-commands">the CLI commands reference</a>.

## SKY UX Builder

SKY UX Builder is intended to be listed as a `devDependency` in the `package.json` file for every SPA. Builder handles the majority of `skyux` commands, including testing, serving, and building, and it wraps up the logic and configuration for other tools such as the Angular Compiler, Webpack, Karma, and Protractor.

## SKY UX CLI plugins

SKY UX CLI is extensible. Follow these guidelines to create custom commands and modules to handle those commands:

<ul>
  <li>
    Install the module globally or locally.
  </li>
  <li>
    Start the module name with `@skyux-sdk/builder`.
  </li>
  <li>
    Enable the module for use with `require()` by either specifying a valid JavaScript file with the `main` property in the module's `package.json` file or by including an `index.js` file in the module's root.
  </li>
  <li>
    Expose a `runCommand` method in the module. This method is called with two parameters: the requested command and an arguments object. It returns a boolean value to indicate whether it successfully handled the command.
    <br>
    <br>
    <sky-code-block>
      module.exports = {
        runCommand(command, argv) {
          switch (command) {
            case 'customCommand':
              // Do something here
              return true;
      
            default:
              return false;
          }
        }
      }
    </sky-code-block>
  </li>
</ul>

## SKY UX Builder plugins

SKY UX Builder is extensible. Follow these guidelines to create custom packages:

<ul>
  <li>
    Add the package as a dependency in `package.json`.
    <br>
    <br>
    <sky-code-block>
      {
        "dependencies": {
          "skyux-builder-plugin-example": "1.0.0"
        }
      }
    </sky-code-block>
  </li>
  <li>
    In the `skyuxconfig.json` file, specify the module in the `plugins` array.  For example:
    <br>
    <br>
    <sky-code-block>
      {
        "plugins": [
          "skyux-builder-plugin-example"
        ]
      }
    </sky-code-block>
  </li>
  <li>
    Enable the package for use with `require()` by either specifying a valid JavaScript file with the `main` property in the package's `package.json` or by including an `index.js` file in the package's root.
    <br>
    <br>
    <sky-code-block>
      module.exports = {
        // content = a string representation of the file's contents
        // resourcePath = the absolute path to the file
        // skyPagesConfig = the prepared config that includes skyuxconfig.json and builder's defaults
        preload(content, resourcePath, skyPagesConfig) {
          return content;
        }
      }
    </sky-code-block>
  </li>
</ul>

</stache-markdown>
</stache>
