<stache
  pageTitle="Sticky settings for grids"
  navTitle="Grids">

  <stache-page-summary>
    <p>
      To save user configuration settings in grids and list view grids, add the <sky-code>settingsKey</sky-code> property to the <sky-code>sky-grid</sky-code> or <sky-code>sky-list-view-grid</sky-code> element. The <sky-code>settingsKey</sky-code> must be unique to the component.
    </p>
    <p>
      The UI Config Service returns <sky-code>selectedColumnIds</sky-code> to preserve the columns to display and the preferred column order.
    </p>
    <stache-include fileName="sticky-settings-whitelist.html"></stache-include>

    <sky-code-block languageType="html">
      &lt;sky-grid
        [data]="items"
        settingsKey="my-grid"
      &gt;
      &lt;/sky-grid&gt;
    </sky-code-block>

    <p>
      That's it! The UI Config Service now saves user settings for the grid and restores them when users return. The service depends on the <sky-code>id</sky-code> values of <sky-code>sky-grid-column</sky-code> elements to organize columns based on user settings. If you remove columns from the grid, they no longer appear. If you add columns, they appear in the far right of the grid for users who changed their grid configuration or in the default position for users who didn't.
    </p>

    <p>
      The service depends on columns IDs to apply user settings, so changes to column IDs affect sticky settings. If you change a column ID, the column appears in the far right of the grid for users who changed their grid configuration.
    </p>

  <sky-code-block languageType="typescript">
    @Component({
      selector: 'my-grid',
      templateUrl: './grid.component.html'
    })
    export class GridComponent implements OnInit {
      public items: any[] = [
        { id: '1', column1: 101, column2: 'Apple', column3: 'Anne eats apples', composite: 'Comp A' },
        { id: '2', column1: 202, column2: 'Banana', column3: 'Ben eats bananas', composite: 'Comp B' },
        { id: '3', column1: 303, column2: 'Pear', column3: 'Patty eats pears', composite: 'Comp C' },
        { id: '4', column1: 404, column2: 'Grape', column3: 'George eats grapes', composite: 'Comp D' },
        { id: '5', column1: 505, column2: 'Banana', column3: 'Becky eats bananas',
          composite: 'Comp E' },
        { id: '6', column1: 606, column2: 'Lemon', column3: 'Larry eats lemons', composite: 'Comp F' },
        { id: '7', column1: 707, column2: 'Strawberry', column3: 'Sally eats strawberries',
          composite: 'Comp G' }
      ];

    }

  </sky-code-block>
</stache>
