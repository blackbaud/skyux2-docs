<stache
  pageTitle="SSL Certificate"
  navTitle="SSL certificate"
  navOrder="1"
  showTableOfContents="true">

  <stache-page-summary>
    <p>
      For local development with SKY UX, you must install the self-signed certificate that enables your SPA to securely load local files.
    </p>
  </stache-page-summary>

  <stache-page-anchor>
    Automated installation for Linux, Mac, and Windows
  </stache-page-anchor>
  
  <p>
    To add the certificate to your machine's list of trusted certificates and validate it, run the following command:
  </p>
  <sky-code-block>
    skyux certs install
  </sky-code-block>
  <p>
    The certificate is required to securely run <sky-code>skyux serve</sky-code>, <sky-code>skyux e2e</sky-code>, and <sky-code>skyux build --serve</sky-code>. For more information, see the <a routerLink="/learn/reference/cli-commands/certs"><sky-code>skyux certs</sky-code> documentation</a>.
  </p>

  <stache-page-anchor>
    Additional steps for Firefox
  </stache-page-anchor>

  <ol>
    <li>
      <p>
        Run <sky-code>skyux serve</sky-code> to serve your SKY UX SPA.
      </p>
    </li>
    <li>
      <p>
        Enter "about:preferences#privacy" in the Firefox address bar.
      </p>
    </li>
    <li>
      <p>
        Near the bottom of the page, select <strong>View Certificates</strong>.
      </p>
    </li>
    <li>
      <p>
        Under <strong>Servers</strong> on the Certificate Manager, select <strong>Add Exception</strong>.
      </p>
    </li>
    <li>
      <p>
        Specify the location to use the certificate. The default location is https://localhost:8000, but you can configure a different port in <a routerLink="/learn/reference/configuration/additional-config-files">the <sky-code>skyuxconfig.json</sky-code> file</a> or set up command-specific ports <a routerLink="/learn/reference/configuration/additional-config-files">in additional configuration files</a>.
      </p>
      <sky-alert alertType="info">
        To serve multiple SPAs, you must also specify the next available port. When you serve multiple SPAs, SKY UX uses the next available port after the first port is in use.  
      </sky-alert>
    </li>
    <li>
      <p>
        Select <strong>Get Certificate</strong>, and then select <strong>Confirm Security Exception</strong>.
      </p>
    </li>
  </ol>
    
  <stache-page-anchor>
    Additional steps for iOS Simulator on Mac
  </stache-page-anchor>

  <ol>
    <li>
      <p>
        Open the <sky-code>.skyux/certs</sky-code> folder in your home directory.
      </p>
    </li>
    <li>
      <p>
        Drag and drop the SKY UX certificate to your simulator.
      </p>
    </li>
    <li>
      <p>
        In the prompt that appears, select <strong>Allow</strong> to download the profile and then select <strong>Close</strong>.
      </p>
    </li>
    <li>
      <p>
        Open the <strong>Settings</strong> app and navigate to <strong>General</strong> > <strong>Profile</strong> > <strong>SKY UX</strong>.
      </p>
    </li>
    <li>
      <p>
        Select <strong>Install</strong> on each page (three times) to install the certificate.
      </p>
    </li>
    <li>
      <p>
        Select <strong>Done</strong> to exit.
      </p>
    </li>
    <li>
      <p>
        In <strong>Settings</strong> > <strong>General</strong> > <strong>About</strong>, select <strong>Certificate Trust Settings</strong>.
      </p>
    </li>
    <li>
      <p>
        Select <strong>Enable Full Trust For Root Certificates</strong> for the SKY UX certificate and continue when prompted.
      </p>
    </li>
  </ol>

</stache>
