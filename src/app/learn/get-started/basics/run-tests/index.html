<stache
  navOrder="4"
  pageTitle="Run Tests"
  navTitle="Run tests"
  showTableOfContents="true">

  <stache-page-summary>
    <p>
      The SKY UX continuous integration layer supports unit tests and end-to-end tests, and the SKY UX CLI includes commands to run tests in multiple platforms and browsers when the SPA code changes or when a SPA dependency releases a new version.
    </p>
    <stache-include fileName="e2e-recommendation.html"></stache-include>
  </stache-page-summary>

  <stache-page-anchor>
    Run sample unit test
  </stache-page-anchor>

  <p>
    Unit tests scrutinize the smallest testable parts of an application. For information about unit tests in SKY UX, see <a routerLink="/learn/reference/tests">the tests reference</a>. For information about how to test modals in SKY UX, see <a routerLink="/learn/get-started/advanced/unit-test-modals">write unit tests for modals</a>. And for tips and techniques on testing Angular applications, see <a href="https://angular.io/guide/testing">the Angular testing guidelines</a>.
  </p>
  <p>
    When you <a routerLink="/learn/get-started/basics/create-project">create a SKY UX project</a>, the template includes sample unit tests in the new project. You can follow the steps in this tutorial to run the unit tests for the default single-page application.
  </p>
  <p>
    <stache-include fileName="SkyAppTestModule-note.html"></stache-include>
  </p>
    
  <ol>
    <li>
      <p>
        To view the unit test spec files in a local editor, open the project's <stache-code>about.component.spec.ts</stache-code> file in the <stache-code>src/app/about</stache-code> folder and the <stache-code>home.component.spec.ts</stache-code> file in the <stache-code>src/app</stache-code> folder.
      </p>
      <p>
        SKY UX unit tests should use the same name as the components or services that they test, but they should end with <stache-code>.spec.ts.</stache-code> The spec files should also be in the same folder as the components or services that they test.
      </p>
    </li>
    <li>
      <p>
        In the command prompt, enter <stache-code>skyux test</stache-code> to run the unit tests.
      </p>
      <p>
        You can also use <stache-code>skyux watch</stache-code> to run the unit tests and watch the file system for changes. Tests run repeatedly as you save changes to files.
      </p>
    </li>
    <li>
      <p>
        The tests run, and the command prompt displays the results. Code coverage results for <stache-code>skyux test</stache-code> and <stache-code>skyux watch</stache-code> are stored in the <stache-code>coverage</stache-code> folder.
      </p>
    </li>
  </ol>

  <stache-page-anchor>
    Run sample end-to-end test
  </stache-page-anchor>

  <p>
    End-to-end tests identify system dependencies and ensure that an application flows as expected from start to finish. You can follow the steps in this tutorial to run any end-to-end tests that you create.
  </p>
  <p>
    For information about end-to-end tests in SKY UX, see <a routerLink="/learn/reference/tests">the tests reference</a>. For tips and techniques on testing Angular applications, see the <a href="https://angular.io/guide/testing">Angular testing guidelines</a>. And for guidance on troubleshooting e2e tests, see <a href="https://github.com/angular/protractor/blob/master/docs/debugging.md">Debugging Protractor Tests</a>.
  </p>
  <stache-include fileName="e2e-recommendation.html"></stache-include>

  <ol>
    <li>
      <p>
        When you create SKY UX end-to-end tests, use the same name as the components or services that they test, but they should end with <stache-code>.e2e-spec.ts.</stache-code> Place spec files for end-to-end tests in the <stache-code>e2e</stache-code> folder in the root of your project.
      </p>
    </li>
    <li>
      <p>
        In the command prompt, enter <stache-code>skyux e2e</stache-code> to run your end-to-end tests.
      </p>
    </li>
    <li>
      <p>
        The test runs, and the command prompt displays the results.
      </p>
    </li>
  </ol>
  
  <stache-page-anchor>
    Control test runs
  </stache-page-anchor>
  
  <p>
    During development, you can use the following steps to control which tests to include in a test run.
  </p>
  
  <h3>
    Exclude tests from a test run
  </h3>

  <p>
    To exclude tests from a test run, change <stache-code>it</stache-code> to <stache-code>xit</stache-code> for the test to exclude, or change <stache-code>describe</stache-code> to <stache-code>xdescribe</stache-code> to exclude an entire test suite.
  </p>

  <h3>
    Explicitly include tests in a test run
  </h3>
  
  <p>
    To limit a test run to only include a subset of tests, change <stache-code>it</stache-code> to <stache-code>fit</stache-code> or <stache-code>describe</stache-code> to <stache-code>fdescribe</stache-code>. The test run only includes those tests or test suites.
  </p>

</stache>
