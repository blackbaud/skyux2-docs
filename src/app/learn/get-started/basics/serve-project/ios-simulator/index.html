<stache
  navOrder="3"
  pageTitle="Serve to an iOS simulator">

  <stache-page-summary>
    <p>
      To serve your SPA to an iOS simulator and debug it, follow these instructions.
    </p>
  </stache-page-summary>

  <ol>
    <li>
      <p>
        Download and install XCode. This install can take a long time.
      </p>
    </li>
    <li>
      <p>
        Open XCode and select <strong>XCode</strong> in the toolbar.
      </p>
    </li>
    <li>
      <p>
        Navigate to Open Developer Tool and select <strong>Simulator</strong>. This opens the iOS simulator to simulate a full iOS device.
      </p>
    </li>
    <li>
      <p>
        Select the simulated power button to turn on the simulator.
      </p>
    </li>
    <li>
      <p>
        Set up the simulated device to allow local development.
      </p>
      <ol>
        <li>
          <p>
            On your simulated iOS device, navigate to <strong>Settings</strong>, <strong>Safari</strong> and turn off <strong>Prevent Cross-Site Tracking</strong>.
          </p>
        </li>
        <li>
          <p>
            On your Mac, open <strong>Keychain Access</strong> to extract the SKY UX certificate from your machine for use in iOS.
          </p>
        </li>
        <li>
          <p>
            Select the SKYUX-Developer-CA certificate and then navigate to <strong>File</strong>, <strong>Export Items</strong>.
          </p>
        </li>
        <li>
          <p>
            Save the certificate to your preferred location.
          </p>
        </li>
        <li>
          <p>
            Drag the <sky-code>.cer</sky-code> file to the simulator. No prompt appears.
          </p>
        </li>
      </ol>
    </li>
    <li>
      <p>
        Run <sky-code>skyux serve --browser safari</sky-code> to serve your SPA to Safari, and then use the link provided in the command line to view your SPA.
      </p>
    </li>
    <li>
      <p>
        To allow console logging and general debugging, follow these steps:
      </p>
      <ol>
        <li>
          <p>
            On your Mac, open Safari and navigate in the toolbar to <strong>Safari</strong>, <strong>Preferences</strong>, <strong>Advanced</strong> and enable <strong>Show Develop menu in menu bar</strong>.
          </p>
        </li>
        <li>
          <p>
            Open the SPA URL and navigate in the toolbar to <strong>Safari</strong>, <strong>Develop</strong>.
          </p>
        </li>
        <li>
          <p>
            The dropdown includes a <strong>Simulator</strong> entry. Place the cursor on it, and then select the URL that matches your locally served SPA. From here, you can debug locally served changes in real time.
          </p>
        </li>
      </ol>
    </li>
  </ol>

</stache>
