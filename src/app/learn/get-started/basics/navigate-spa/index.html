<stache
  navOrder="11"
  pageTitle="Navigation"
  showTableOfContents="true">

  <stache-page-summary>
    <p>
      SKY UX takes advantage of <a href="https://angular.io/api/router/Router">the Angular Router class</a> to enable navigation within a SPA, and you can use <a href="https://angular.io/api/router/RouterLink">Angular's <sky-code>RouterLink</sky-code> directive</a> to create links between pages in a SPA. In addition, SKY UX's <sky-code>SkyAppLink</sky-code> and <sky-code>SkyAppLinkExternal</sky-code> directives extend the <sky-code>RouterLink</sky-code> directive and allow you to create links that automatically include parameters in the URL.
    </p>
    <sky-restricted-view>
      <sky-alert alertType="info">
        ****Placeholder for note about <sky-code>skyHref</sky-code>.****
      </sky-alert>
    </sky-restricted-view>
    <sky-restricted-content-alert></sky-restricted-content-alert>

  </stache-page-summary>

  <stache-page-anchor>
    Installation
  </stache-page-anchor>

  <p>
    SKY UX defines the <sky-code>SkyAppLink</sky-code> and <sky-code>SkyAppLinkExternal</sky-code> directives in <sky-code>SkyAppLinkModule</sky-code> in the <sky-code>@skyux/router</sky-code> NPM package.
  </p>
  <p>
    To use any exports from <sky-code>SkyAppLinkModule</sky-code>, you must install it as a dependency to your project. In the command prompt, run the following command from your SPA's root directory:
  </p>

  <sky-code-block
  >
    npm install --save --save-exact @skyux/router
  </sky-code-block>

  <p>
    After installation, you need to make any exports from <sky-code>SkyAppLinkModule</sky-code> available to your SPA by adding the module to the exports section of your SPA's main module. If you are using the SKY UX SDK, add <sky-code>SkyAppLinkModule</sky-code> as an export in your <sky-code>app-sky.module.ts</sky-code> file.
  </p>

  <stache-page-anchor>
    Create internal links within a SPA
  </stache-page-anchor>

  <p>
    To create links between pages in a SPA, use the standard HTML <sky-code>a</sky-code> element. If the SPA's URL includes <a stacheRouterLink="/learn/reference/configuration" fragment="params">parameters</a>, specify the path to link to with the SKY UX <sky-code>skyAppLink</sky-code> attribute. If not, use the Angular <sky-code>routerLink</sky-code> attribute.
  </p>
  <p>
    The <sky-code>skyAppLink</sky-code> attribute automatically includes the SPA's parameters in the URL. The most common parameters are <sky-code>envid</sky-code> and <sky-code>svcid</sky-code>, but the URL can include any parameters that are provided to the SPA when it loads.
  </p>
  <sky-code-block>
    <a skyAppLink="sample-route">Sample Link 2</a>
  </sky-code-block>
  <p>
    If this SPA has a <sky-code>svcid</sky-code> of "abc" and an <sky-code>envid</sky-code> of "1234," the sample directs users to <sky-code>/sample-spa/sample-route?svcid=abc&envid=1234</sky-code>.
  </p>
  <p>
    You can also use <sky-code>routerLink</sky-code> to specify the path to link to and then use the <sky-code>queryParams</sky-code> attribute to manually specify the SPA's parameters, but we recommend letting the <sky-code>SkyAppLink</sky-code> directive handle this for you. Keep in mind that if a parameter's current value is the same as the default value from <sky-code>skyuxconfig.json</sky-code>, the <sky-code>SkyAppLink</sky-code> directive does not include the parameter in the query string.
  </p>

  <stache-page-anchor>
    Create external links to another SPA
  </stache-page-anchor>

  <p>
    To create links to other SPAs, use the standard HTML <sky-code>a</sky-code> element. If the external SPA URL includes parameters, specify the path to link to with the SKY UX <sky-code>skyAppLinkExternal</sky-code> attribute. If not, use the standard HTML <sky-code>href</sky-code> attribute.
  </p>
    The <sky-code>skyAppLinkExternal</sky-code> attribute automatically includes the external SPA's parameters in the URL. The most common parameters are <sky-code>envid</sky-code> and <sky-code>svcid</sky-code>, but the URL can include any parameters that are provided to the SPA when it loads.
  </p>
  <sky-code-block>
    <a skyAppLinkExternal="/another-spa/sample-route">Sample Link 4</a>
  </sky-code-block>
  <p>
    If this external SPA has a <sky-code>svcid</sky-code> of "abc" and an <sky-code>envid</sky-code> of "1234," the sample directs users to <sky-code>/another-spa/sample-route?svid=abc&envid=1234</sky-code>.
  </p>

  <sky-restricted-view>
    <stache-page-anchor>
      Placeholder for skyHref section
    </stache-page-anchor>

    <p>
      Like <sky-code>SkyAppLink</sky-code> and <sky-code>SkyAppLinkExternal</sky-code>, SKY UX's <sky-code>skyHref</sky-code> directive extends the <sky-code>RouterLink</sky-code> directive and allows you to create links that automatically include parameters in the URL. In addition, this directive checks permissions for the pages that you linke to and allows you to hide or disable links when users don't have rights to acess the targets.
    </p>
    <p>
      If users have access to the target routes, then when the routes are passed in, the service calls translate them to completely new URLs. ***I'm not sure what else to say about this. John said it was the other key difference between <sky-code>skyHref</sky-code> and the existing directives, but I'm not completely clear on what this means or what else we need to
    </p>

    <h3 class="sky-subsection-heading">
      Installation
    </h3>
    <p>
      SKY UX defines the <sky-code>skyHref</sky-code> directive in <sky-code>****Module</sky-code> in the ***<sky-code>@skyux/router</sky-code>*** NPM package.
    </p>
    <p>
      To use any exports from <sky-code>***Module</sky-code>, you must install it as a dependency to your project. In the command prompt, run the following command from your SPA's root directory:
    </p>

    <sky-code-block
    >
      npm install --save --save-exact @skyux/router
    </sky-code-block>
    <sky-code-block
    >
      npm install --save --save-exact @blackbaud-internal/skyux-lib-app-links
    </sky-code-block>
    <p>
      After installation, you need to make any exports from <sky-code>***Module</sky-code> available to your SPA by adding the module to the exports section of your SPA's main module. If you are using the SKY UX SDK, add <sky-code>***Module</sky-code> as an export in your <sky-code>app-sky.module.ts</sky-code> file.
    </p>
      <p>
      x
    </p>

    <h3 class="sky-subsection-heading">
      Implementation
    </h3>
    <p>
      ****You need to add routes to the referenced routes in the <sky-code>skyuxconfig.json</sky-code> file. This means referencing all pages you are going to link to.****
    </p>
    <p>
      x
    </p>
    <sky-code-block>
      placeholder for code sample
    </sky-code-block>
    <p>
      x
    </p>
    <sky-code-block>
      placeholder for code sample
    </sky-code-block>

  </sky-restricted-view>

</stache>
