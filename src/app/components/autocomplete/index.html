<sky-demo-page
  pageTitle="Autocomplete"
  skyuxModule="SkyAutocompleteModule"
  packageName="@skyux/lookup"
>
  <sky-demo-page-summary>
    <p>
      The autocomplete component creates a text input that filters a data source based on user entries and then displays search results in a dropdown list. Users enter text in the text input, and then the component searches the data source. Search results appear in a dropdown list, and users can select an item from the filtered list. The selected item appears in the text input, and the autocomplete component stores and saves the entire object.
    </p>
  </sky-demo-page-summary>

  <sky-demo-page-properties sectionHeading="Autocomplete properties">
    <sky-demo-page-property
      propertyName="data"
      defaultValue="[]"
      isOptional="true"
    >
      Specifies a static data source for the autocomplete component to search when users enter text. This property accepts an array of objects. For a dynamic data source such as an array that changes due to server calls, use the <sky-code>search</sky-code> property instead.
    </sky-demo-page-property>
    <sky-demo-page-property
      propertyName="disabled"
      defaultValue="false"
      isOptional="true"
    >
    Indicates whether to disable the autocomplete field. This property accepts <sky-code>boolean</sky-code> values.
    </sky-demo-page-property>
    <sky-demo-page-property
      propertyName="debounceTime"
      defaultValue="0"
      isOptional="true"
    >
      Specifies how many milliseconds to wait before searching while users enter text in the autocomplete field. This property accepts <sky-code>number</sky-code> values.
    </sky-demo-page-property>
    <sky-demo-page-property
      propertyName="descriptorProperty"
      isOptional="true"
      defaultValue="name"
    >
      Specifies an object property to display in the text input after users select an item in the dropdown list. This property accepts <sky-code>string</sky-code> values.
    </sky-demo-page-property>
    <sky-demo-page-property
      propertyName="propertiesToSearch"
      isOptional="true"
      defaultValue="['name']"
    >
      Specifies the object properties to search. This property accepts an array of <sky-code>string</sky-code> values.
    </sky-demo-page-property>
    <sky-demo-page-property
      propertyName="search"
      isOptional="true"
    >
      Specifies a function to dynamically manage the data source when users change the text in the autocomplete field. The search function must return an array or a promise of an array. The <sky-code>search</sky-code> property is particularly useful when the data source does not live in the source code. Acceptable value: <sky-code>(searchText: string, data?: any[]) => any[] | Promise&lt;any[]&gt;</sky-code>.
    </sky-demo-page-property>
    <sky-demo-page-property
      propertyName="searchFilters"
      isOptional="true"
    >
      Specifies an array of functions to call against each search result in order to filter the search results when using the default search function. When using the <sky-code>search</sky-code> property to specify a custom search function, you must manually apply filters inside that function. The function must return <sky-code>true</sky-code> or <sky-code>false</sky-code> for each result to indicate whether to display it in the dropdown list. Acceptable value: <sky-code>(searchText: string, item: any) => boolean</sky-code>.
    </sky-demo-page-property>
    <sky-demo-page-property
      propertyName="searchResultsLimit"
      isOptional="true"
    >
      Specifies the maximum number of search results to display in the dropdown list. By default, the component displays all matching results. This property accepts <sky-code>number</sky-code> values.
    </sky-demo-page-property>
    <sky-demo-page-property
      propertyName="searchResultTemplate"
      isOptional="true"
    >
      Specifies a template to format each search result in the dropdown list. The autocomplete component injects search result values into the template as <sky-code>item</sky-code> variables that reference all of the object properties of the search results.
    </sky-demo-page-property>
    <sky-demo-page-property
      propertyName="searchTextMinimumCharacters"
      isOptional="true"
      defaultValue="1"
    >
      Specifies the minimum number of characters that users must enter before the autocomplete component searches the data source and displays search results in the dropdown list. This property accepts <sky-code>number</sky-code> values.
    </sky-demo-page-property>
  </sky-demo-page-properties>

  <sky-demo-page-properties sectionHeading="Autocomplete events">
    <sky-demo-page-property
      propertyName="selectionChange"
      isOptional="true"
  >
      Fires when users select items in the dropdown list and provides an argument of type <sky-code>SkyAutocompleteSelectionChange</sky-code>.
    </sky-demo-page-property>
  </sky-demo-page-properties>

  <sky-demo-page-properties sectionHeading="SkyAutocompleteSelectionChange type">
    <sky-demo-page-property
      propertyName="selectedItem"
      isOptional="true"
    >
      References a search result object that users select in the dropdown list.
    </sky-demo-page-property>
  </sky-demo-page-properties>

  <sky-demo-page-example>
    <sky-autocomplete-demo>
    </sky-autocomplete-demo>
    <sky-demo-page-code
      demoName="Autocomplete">
    </sky-demo-page-code>
  </sky-demo-page-example>

	<sky-demo-page-content sectionHeading="UX guidelines">
		<section>
			<header>
        <div class="sky-section-heading">Usage</div>
      </header>
			<p>
        The autocomplete component is effective for scenarios where users know what they are looking for and can select a single item. For guidance on which selection inputs to use in other scenarios, see the <a routerLink="/design/guidelines/form-design" fragment="selection-inputs">form design guidelines</a>.
      </p>
		</section>
	</sky-demo-page-content>

</sky-demo-page>
